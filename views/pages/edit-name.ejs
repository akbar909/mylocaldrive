<%- layout('layouts/main') %>

<section style="min-height: calc(100vh - 100px); padding: 3rem 1rem;">
	<div style="max-width: 600px; margin: 0 auto;">
		<a href="/profile" style="color: var(--primary-color); text-decoration: none; font-size: 0.875rem;">‚Üê Back to Profile</a>
		<h1 style="font-size: 2rem; margin: 1rem 0 0.5rem 0;">Edit Profile Name</h1>

		<% if (error) { %>
			<div style="margin-top: 0.75rem; padding: 0.75rem 1rem; background: rgba(239,68,68,0.12); border: 1px solid rgba(239,68,68,0.3); color: #fca5a5; border-radius: 8px; font-size: 0.95rem;">
				<i class="fas fa-exclamation-triangle"></i> <%= error %>
			</div>
		<% } %>
		<% if (success) { %>
			<div style="margin-top: 0.75rem; padding: 0.75rem 1rem; background: rgba(16,185,129,0.12); border: 1px solid rgba(16,185,129,0.3); color: #6ee7b7; border-radius: 8px; font-size: 0.95rem;">
				<i class="fas fa-check-circle"></i> <%= success %>
			</div>
		<% } %>

		<form method="POST" action="/profile/edit-name" style="background: var(--white); padding: 2rem; border-radius: 12px; box-shadow: var(--shadow); margin-top: 2rem;">
			<div style="margin-bottom: 1.5rem;">
				<label style="display: block; color: var(--text-light); font-size: 0.875rem; margin-bottom: 0.5rem; text-transform: uppercase; letter-spacing: 0.05em;">First Name</label>
				<input type="text" name="firstName" value="<%= user?.firstName || '' %>" required minlength="1" maxlength="50" pattern="[A-Za-z\s'.-]+" style="width: 100%; padding: 0.75rem; border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; background: rgba(0,0,0,0.2); color: var(--text-dark); box-sizing: border-box; font-size: 1rem;">
			</div>

			<div style="margin-bottom: 1.5rem;">
				<label style="display: block; color: var(--text-light); font-size: 0.875rem; margin-bottom: 0.5rem; text-transform: uppercase; letter-spacing: 0.05em;">Last Name</label>
				<input type="text" name="lastName" value="<%= user?.lastName || '' %>" required minlength="1" maxlength="50" pattern="[A-Za-z\s'.-]+" style="width: 100%; padding: 0.75rem; border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; background: rgba(0,0,0,0.2); color: var(--text-dark); box-sizing: border-box; font-size: 1rem;">
			</div>

			<div style="display: flex; gap: 1rem; justify-content: flex-start;">
				<button type="submit" class="btn btn-primary">Save Changes</button>
				<a href="/profile" class="btn" style="background: rgba(255,255,255,0.1); color: var(--text-dark); text-decoration: none; padding: 0.75rem 1.5rem; border-radius: 8px;">Cancel</a>
			</div>
		</form>
	</div>
</section>
