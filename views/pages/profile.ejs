<%- layout('layouts/main') %>

<section style="min-height: calc(100vh - 100px); padding: 3rem 1rem;">
	<div style="max-width: 600px; margin: 0 auto;">
		<!-- Header -->
		<div style="margin-bottom: 2rem;">
			<a href="/dashboard" style="color: var(--primary-color); text-decoration: none; font-size: 0.875rem;">‚Üê Back to Dashboard</a>
			<h1 style="font-size: 2.5rem; margin: 1rem 0 0.5rem 0;">Profile Settings</h1>
			<p style="color: var(--text-light);">Manage your account and personal information</p>

			<% if (typeof success !== 'undefined' && success) { %>
				<div style="margin-top: 0.75rem; padding: 0.75rem 1rem; background: rgba(16,185,129,0.12); border: 1px solid rgba(16,185,129,0.3); color: #6ee7b7; border-radius: 8px; font-size: 0.95rem;">
					<i class="fas fa-check-circle"></i> <%= success %>
				</div>
			<% } %>
			<% if (typeof error !== 'undefined' && error) { %>
				<div style="margin-top: 0.75rem; padding: 0.75rem 1rem; background: rgba(239,68,68,0.12); border: 1px solid rgba(239,68,68,0.3); color: #fca5a5; border-radius: 8px; font-size: 0.95rem;">
					<i class="fas fa-exclamation-triangle"></i> <%= error %>
				</div>
			<% } %>
		</div>

		<!-- Profile Card -->
		<div style="background: var(--white); padding: 2rem; border-radius: 12px; box-shadow: var(--shadow); margin-bottom: 2rem;">
			<div style="text-align: center; margin-bottom: 2rem;">
				<div style="width: 80px; height: 80px; background: var(--primary-color); border-radius: 50%; margin: 0 auto 1rem; display: flex; align-items: center; justify-content: center; font-size: 2rem; color: white;">
					<i class="fas fa-user-circle"></i>
				</div>
				<p style="margin: 0; color: var(--text-light); font-size: 0.875rem;">Username: <span style="color: var(--text-dark);"><%= user.username %></span></p>
			</div>

			<!-- Profile Info -->
			<div style="margin-bottom: 1.5rem;">
				<label style="display: block; color: var(--text-light); font-size: 0.875rem; margin-bottom: 0.5rem; text-transform: uppercase; letter-spacing: 0.05em;">Email</label>
				<div style="background: rgba(255,255,255,0.05); padding: 0.75rem; border-radius: 8px; margin-bottom: 1rem;">
					<p style="margin: 0; color: var(--text-dark);"><%= user.email %></p>
				</div>
			</div>

			<div style="margin-bottom: 1.5rem;">
				<label style="display: block; color: var(--text-light); font-size: 0.875rem; margin-bottom: 0.5rem; text-transform: uppercase; letter-spacing: 0.05em;">Account Created</label>
				<div style="background: rgba(255,255,255,0.05); padding: 0.75rem; border-radius: 8px;">
					<p style="margin: 0; color: var(--text-dark);"><%= new Date(user.createdAt || Date.now()).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' }) %></p>
				</div>
			</div>
		</div>

		<!-- Account Actions -->
		<div style="background: var(--white); padding: 2rem; border-radius: 12px; box-shadow: var(--shadow); margin-bottom: 2rem;">
			<h3 style="margin-top: 0; margin-bottom: 1.5rem; color: var(--text-dark);">Account Actions</h3>
			
			<div style="margin-bottom: 1rem;">
				<a href="/profile/change-password" class="btn" style="display: block; text-align: center; background: var(--primary-color); color: white; padding: 0.75rem 1.5rem; border-radius: 8px; text-decoration: none; border: none; cursor: pointer;">
					<i class="fas fa-shield-alt"></i> Security Settings
				</a>
			</div>
		</div>

		<!-- Danger Zone -->
		<div style="background: rgba(239, 68, 68, 0.1); padding: 2rem; border-radius: 12px; border: 1px solid rgba(239, 68, 68, 0.3);">
			<h3 style="margin-top: 0; margin-bottom: 1rem; color: #ef4444;">Danger Zone</h3>
			<p style="color: var(--text-light); font-size: 0.875rem; margin-bottom: 1.5rem;">Account deletion and security settings are available in Security Settings.</p>
		</div>
	</div>
</section>
