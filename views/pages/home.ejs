<% layout('layouts/main') %>

<section class="hero">
	<div class="container hero-grid">
		<div class="hero-copy">
			<div class="pill">Secure cloud workspace</div>
			<h1>Store, share, and sync files without friction.</h1>
			<p>
				MyDrive keeps your documents safe, organized, and accessible on every device. Collaborate
				instantly with a clean, focused experience.
			</p>
			<div class="hero-actions">
				<a href="/user/register" class="btn btn-primary">Get Started</a>
				<a href="/user/login" class="btn btn-outline">Sign In</a>
			</div>
			<div class="hero-meta">
				<div>
					<strong>Privacy-first</strong>
					<span>Encrypted at rest and in transit</span>
				</div>
				<div>
					<strong>Fast onboarding</strong>
					<span>Create an account in under a minute</span>
				</div>
			</div>
		</div>

		<div class="hero-panel">
			<div class="panel-header">
				<span class="status-dot"></span>
				<span>Platform status</span>
			</div>
			<div class="panel-body">
				<div class="stat">
					<p>Active users</p>
					<h3 id="totalUsers">Loading...</h3>
					<div class="chip">Trust us daily</div>
				</div>
				<div class="stat">
					<p>Total storage</p>
					<h3 id="totalStorage">Loading...</h3>
					<div class="chip">Secure cloud</div>
				</div>
				<div class="stat">
					<p>Uptime</p>
					<h3 id="uptime">99.9%</h3>
					<div class="chip">Always available</div>
				</div>
			</div>
		</div>
	</div>
</section>

<section class="feature-band">
	<div class="container feature-grid">
		<div class="feature">
			<div class="icon-badge">
				<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<path d="M4 4h16v16H4z"></path>
					<path d="M4 9h16"></path>
					<path d="M9 20V9"></path>
				</svg>
			</div>
			<h3>Organized folders</h3>
			<p>Keep projects tidy with smart collections and quick filters.</p>
		</div>
		<div class="feature">
			<div class="icon-badge">
				<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<circle cx="12" cy="12" r="10"></circle>
					<path d="M2 12h20"></path>
					<path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10"></path>
					<path d="M12 2a15.3 15.3 0 0 0-4 10 15.3 15.3 0 0 0 4 10"></path>
				</svg>
			</div>
			<h3>Access anywhere</h3>
			<p>Work seamlessly from desktop, tablet, or phone with synced changes.</p>
		</div>
		<div class="feature">
			<div class="icon-badge">
				<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
					<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
					<polyline points="17 8 12 3 7 8"></polyline>
					<line x1="12" y1="3" x2="12" y2="15"></line>
				</svg>
			</div>
			<h3>Secure by default</h3>
			<p>Multi-layer security with audit trails and activity alerts.</p>
		</div>
	</div>
</section>

<script>
	// Fetch and display real platform stats
	async function loadStats() {
		try {
			const response = await fetch('/api/stats');
			const data = await response.json();
			
			document.getElementById('totalUsers').textContent = data.totalUsers + '+';
			document.getElementById('totalStorage').textContent = data.totalStorage;
		} catch (error) {
			console.error('Error loading stats:', error);
		}
	}
	
	// Load stats when page loads
	loadStats();
</script>
